// NQueens.bsh

import java.util.Calendar;
import java.util.GregorianCalendar;
import javax.swing.JInternalFrame;
import org.ops.ui.PSDesktop;
import org.ops.ui.mouse.*;
import org.ops.ui.gantt.*;
import org.ops.ui.chart.*;
import org.ops.ui.util.Util;
import psengine.PSSolver;
import psengine.PSToken;

String model = "NQueens";

void usingCodeGeneration()
{
	cwd = bsh.cwd;
    psengine.loadModel(cwd+"/lib"+model+"_g.so");
    boolean isFile = true;
    boolean useInterpreter = false;
    psengine.executeTxns(cwd+"/"+model+"-initial-state.xml",isFile,useInterpreter);		
}

void usingInterpreter()
{
	cwd = bsh.cwd;
    String nddlModel = cwd+"/"+model+"-initial-state.nddl";
    psengine.executeScript("nddl",nddlModel);
}

void initPSEngine()
{
	//usingCodeGeneration();
	usingInterpreter();
}

void printQueens()
{
    StringBuffer buf = new StringBuffer();
    
    buf.append("{");
    for (int i=0; i<psengine.getGlobalVariables().size();i++) {
    	if (i>0)
    		buf.append(",");
    	buf.append(psengine.getGlobalVariables().get(i).getSingletonValue().asInt());
    }
    buf.append("}");
    print(buf.toString());
}

initPSEngine();
desktop.makeNddlConsole();
printQueens();


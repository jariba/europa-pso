SubDir PLASMA NDDL test ;

if ! $(PLASMA_READY) {

SubInclude PLASMA NDDL test parser ;
SubInclude PLASMA NDDL test compiler ;
SubDirHdrs $(PLASMA) PlanDatabase test ;

local variant ;
for variant in $(ALL_VARIANTS) {
  local object = [ FVariantName PlanDbModuleTests : $(variant) ] ;
  MakeLocate [ FGristFiles $(object)$(SUFOBJ) ] : [ FDirName $(PLASMA) PlanDatabase test ] ;
  MakeLocate [ FGristFiles $(object)_pic$(SUFOBJ) ] : [ FDirName $(PLASMA) PlanDatabase test ] ;
}

ModuleMain nddl-module-tests : module-tests.cc PlanDbModuleTests.o : NDDL ;
RunModuleMain run-nddl-module-tests : nddl-module-tests ;
LocalDepends tests : run-nddl-module-tests ;

} # PLASMA_READY

#!/bin/bash


PLASMA=`dirname "$0"`
if [ -n $CPP ]; then
    if [ -n $GCC_ROOTDIR ]; then
      CPP="g++"
    else
      CPP="$GCC_ROOTDIR/bin/g++;"
    fi;
fi

optargs=""

case "$2" in 
"dev")
optargs="-g3"
;;
"opt")
optargs="-O3 -DPLASMA_FAST"
;;
*)
optargs="-g3"
;;
esac

$CPP -c -o "./${1%.cc}.o"  $optargs -Wall   -I$PLASMA/System/test -I$PLASMA/System -I$PLASMA/System/core -I$PLASMA/System/component -I$PLASMA/System/core -I$PLASMA/System/component -I$PLASMA/NDDL -I$PLASMA/NDDL/core -I$PLASMA/NDDL/component -I$PLASMA/NDDL/core -I$PLASMA/NDDL/component -I$PLASMA/CBPlanner -I$PLASMA/CBPlanner/core -I$PLASMA/CBPlanner/component -I$PLASMA/CBPlanner/core -I$PLASMA/CBPlanner/component -I$PLASMA/RulesEngine -I$PLASMA/RulesEngine/core -I$PLASMA/RulesEngine/component -I$PLASMA/RulesEngine/core -I$PLASMA/RulesEngine/component -I$PLASMA/Resource -I$PLASMA/Resource/core -I$PLASMA/Resource/component -I$PLASMA/Resource/core -I$PLASMA/Resource/component -I$PLASMA/PlanDatabase -I$PLASMA/PlanDatabase/core -I$PLASMA/PlanDatabase/component -I$PLASMA/PlanDatabase/core -I$PLASMA/PlanDatabase/component -I$PLASMA/ConstraintEngine -I$PLASMA/ConstraintEngine/core -I$PLASMA/ConstraintEngine/component -I$PLASMA/ConstraintEngine/core -I$PLASMA/ConstraintEngine/component -I$PLASMA/ConstraintEngine -I$PLASMA/TinyXml -I$PLASMA/TinyXml/core -I$PLASMA/TinyXml/component -I$PLASMA/TinyXml/core -I$PLASMA/TinyXml/component -I$PLASMA/Utils -I$PLASMA/Utils/core -I$PLASMA/Utils/component -I$PLASMA/Utils/core -I$PLASMA/Utils/component  "./$1"

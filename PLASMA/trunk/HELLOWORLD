$Id: HELLOWORLD,v 1.2 2005-01-24 22:29:57 tania Exp $

Note: Please first see the file README in this directory for details
      on how to checkout, build, and test Europa2 before attempting
      to create your own project. 

A. Creating your own project

A script is available to get you started with your own project. It
will create a directory for your project as a sibling directory to
PLASMA and populate it with a build setup, initial model, initial
state, and a main executable to use a standard Europa2 assembly,
including a planner.  We will illustrate its use with a sample
project called SampleProject:

        cd PLASMA
        makeproject SampleProject
        cd ../SampleProject
        jam SampleProject

You will observe that an executable is built and executed, resulting
in a plan.  The results of the plan are found in the file:

     RUN_SampleProject-planner_g_rt.SampleProject-initial-state.xml.output

You may now change the model and initial state and simply
retype 'jam SampleProject' to rebuild as necessary and rerun.


B. Visualizing a plan in PlanWorks

1. Installing PlanWorks

   Follow the directions in the PlanWorks README and GETTING_STARTED
   files found in the PlanWorks directory to install and use PlanWorks.


2. Configuring the Europa2 transaction logger:

   Before using PlanWorks to visualize a plan, the planner must be run
   with the logger (PartialPlanWriter) enabled and properly configured.
   A default PartialPlanWriter configuration file is supplied with
   Europa2 but is not accessed unless the environment variable PPW_CONFIG
   is set to the location of this file. The file can be renamed and moved
   to another location as long as PPW_CONFIG is updated.

   If you created the SampleProject in section A above, the default
   configuration file is called: 

   PlanWorks.cfg

   Otherwise, a sample PPW configuration file can be found at:

   /home/me/PLASMA/CBPlanner/component/PlanWorks.cfg
   Where:
     /home/me is the full path to the PLASMA directory.

   Here is an example for the csh shell of how PPW_CONFIG is set:

   setenv PPW_CONFIG /home/me/SampleProject/ppw-config

   Of course, "/home/me" must be changed to the full path to the PLASMA
   directory that was created by the PLASMA CVS checkout.

   To enable logging, edit the line in ppw-config that configures
   AutoWrite. Set it to 'AutoWrite=1'. Notice the line 'WriteDest=./plans'.

   This directs the logger output to the directory './plans' (plans will be
   a subdirectory of the directory the planner was run from.) WriteDest
   may be set to whatever path you want as long as you have write access.

   The PartialPlanWriter can generate large amounts of information if the
   plans have many steps. Besides using a lot of disk space, the logger
   seriously slows the planner's performance. When debugging large plans
   you might at first want to look at the final plan step or the last step
   before the planner timed out. To enable writing only the last step, set
   'WriteFinalStep=1' in the ppw-config file.

   Once the logger has been configured, rerun the plan as specified in
   section A 'Creating your own project' by entering:

        jam SampleProject

   When the run completes, check that you now have a "plans" subdirectory
   before going on to the next step.

3. Creating a PlanWorks Project and Selecting a Planning Sequence

   Once you have run your plan with logging properly enabled you can
   create a PlanWorks Project and add a Project Sequence. Details of
   using PlanWorks are found in the PlanWorks GETTING_STARTED file.

        cd ../PlanWorks
        ant

   Once in PlanWorks select "Project--->Create" from the top level menu bar.
   This will bring up a Create Project window. Type "SampleProject" in the
   "name" field (any name will work). In the "working directory" field, enter
   the full path of the directory that contains your plan sequences. This
   directory will be something like /home/me/SampleProject/plans. Click on
   the "Enter" button. A "Select Planning Sequence Directory" window will
   appear. Sequence directory(ies) created for your plan by the 
   PartialPlanWriter are found in this directory. Select a plan directory
   and click the "OK" button.

4. Visualizing your plan

   Once a PlanWorks project has been created and a sequence directory has
   been selected you are ready to visualize your plan. Select 
   "PlanningSequence" from the top level menu bar. Now select your sequence,
   if you have been using the names in this example, the name of your
   sequence will be "SampleProject-model". Click on this.

   A window called "SequenceStepsView of SampleProject-model" should appear.
   Note the sequence of vertical bars in the window. Each vertical bar
   represents a partial plan. If the planner found a plan than the vertical
   bar on the far right will represent your completed plan. Scroll to the 
   vertical bar on the far right and right click anywhere on this bar.A 
   menu will appear with a list of items that you can now visualize.

   You can select these item one at a time or you can select them all at
   once with the "Open all Views" menu item at the bottom of the list.

   For more details on using PlanWorks to visualize your model, see the
   GETTING_STARTED file in the PlanWorks home directory.



